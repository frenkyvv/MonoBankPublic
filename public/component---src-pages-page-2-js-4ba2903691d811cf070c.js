"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[771],{2270:function(e,a,t){t.d(a,{A:function(){return q}});var n=t(6540),r=t(7581);const o=r.Ay.img`
  width: 80%;
  height: auto;
  margin: 20px;
  display: block;
  margin-left: auto;
  margin-right: auto;
`;var c=e=>{let{foto:a}=e;return n.createElement(o,{src:a,alt:a})},l=t(2864),i=t(5615),d=t.p+"static/Baltica-777b9490e55489279efdc21adb077ad2.png",s=t.p+"static/Mediterraneo-390659031f9692a93b89ebc8a6478323.png",u=t.p+"static/Agua-7dad8b85bfedba80b20cb553cdbdf099.png",m=t.p+"static/Atlantico-1f349614dd7dbff315bd52f2e50b3be9.png",p=t.p+"static/B&ORR-dd20fa6046de51d4b7d2c7c27ef2bf03.png",g=t.p+"static/CarolinaNorte-6b122d5d17845a92729be2eae7d2be3c.png",f=t.p+"static/Connecticut-98016dc9cbfd64133d1e7ae974677fe1.png",b=t.p+"static/Electrica-d239183e51521597041cf21cf2d267e4.png",E=t.p+"static/ElMuelle-8f082a78bc52719e0487c124d310db83.png",y=t.p+"static/Estados-15c26b6a495d8c6c35f9eb83ec76b75b.png",x=t.p+"static/Illinois-9d6c1e7e0975771967b96ae026a15f75.png",h=t.p+"static/Indiana-3de29aca7340acf8425ebf64cec83742.png",A=t.p+"static/Kentucky-b48b77a34d9d7109516b8b352f4881bf.png",v=t.p+"static/Marvin-74aa4f2d6e3c6fb79f1e9c6cf19b81da.png",w=t.p+"static/Oriental-f8ac0c2669a86daf2e423710472545e7.png",k=t.p+"static/Pacifico-2f69ad02ad66c9e7af72de94afc9f685.png",S=t.p+"static/Pennsylvania-d37a4528d380d8bd9dbdaf52bcf056c0.png",j=t.p+"static/PlazaPark-23c3cef2d019290d010416b24588656d.png",C=t.p+"static/ReadingRR-c6f9521dd1b541236bd725b0728ac42a.png",J=t.p+"static/SanCarlos-a9f13275446e17b69de6d20dfac29d62.png",B=t.p+"static/StJames-b743bab817696d4ac51f26a1a581ca2c.png",T=t.p+"static/Tennessee-e862d3b9524045c05bd7cd091013b0b1.png",z=t.p+"static/Ventnor-fecc4c34f9a65b5be2e6fb78cb4b7d23.png",R=t.p+"static/Vermont-ca0319a53df8705f68abc0832a9d2ecb.png",P=t.p+"static/ViaRapidaRR-829ae7a72b42b7e422d7d9be029a484c.png",H=t.p+"static/Virginia-0910ecf7b4db0a777f4879846bb3f981.png";const M=r.Ay.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,L=r.Ay.div`
  display: flex;
  justify-content: space-between;
  width: 350px; /* ajusta el ancho según tus necesidades */
  margin: 15px;
`,F=(r.Ay.button`
  background-color: #333;
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  margin-bottom: 20px;
`,r.Ay.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
`),I=r.Ay.div`
  background-color: #fff;
  border-radius: 5px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
  width: 80%;
  max-width: 600px;
`,N=r.Ay.div`
  padding: 20px;
`,V=r.Ay.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
  border-bottom: 1px solid #ddd;
`,$=r.Ay.h5`
  margin-bottom: 0;
`,O=r.Ay.button`
  background-color: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
`,Z=r.Ay.div`
  padding-top: 20px;
`,D=r.Ay.div`
  padding-top: 20px;
  text-align: right;
`,G=r.Ay.button`
  background-color: #333;
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
`;var q=()=>{const{0:e,1:a}=(0,n.useState)(!1),{0:t,1:r}=(0,n.useState)(""),{0:o,1:q}=(0,n.useState)([{nombre:"Baltic",ruta:d},{nombre:"Mediterraneo",ruta:s},{nombre:"Compañia de Agua",ruta:u},{nombre:"Atlantico",ruta:m},{nombre:"B & O RR",ruta:p},{nombre:"Carolina del Norte",ruta:g},{nombre:"Connecticut",ruta:f},{nombre:"Compañia Electrica",ruta:b},{nombre:"El Muelle",ruta:E},{nombre:"Los Estados",ruta:y},{nombre:"Illinois",ruta:x},{nombre:"Indiana",ruta:h},{nombre:"Kentucky",ruta:A},{nombre:"Marvin",ruta:v},{nombre:"Oriental",ruta:w},{nombre:"Pacifico",ruta:k},{nombre:"Pennsylvania",ruta:S},{nombre:"La Plaza",ruta:j},{nombre:"Reading RR",ruta:C},{nombre:"San Carlos",ruta:J},{nombre:"St. James",ruta:B},{nombre:"Tennessee",ruta:T},{nombre:"Ventnor",ruta:z},{nombre:"Vermont",ruta:R},{nombre:"Via Rapida RR",ruta:P},{nombre:"Virginia",ruta:H}]),Q=()=>{a(!e)};return n.createElement("div",null,n.createElement(M,null,n.createElement(L,null,n.createElement(l.A,null,n.createElement(l.A.Toggle,{variant:"success",id:"dropdown-basic"},t.nombre||"Seleccione una foto"),n.createElement(l.A.Menu,null,o.map(((e,a)=>n.createElement(l.A.Item,{key:a,onClick:()=>(e=>{r(e)})(e)},e.nombre))))),n.createElement(i.A,{onClick:Q},e?"Ocultar Foto":"Mostrar Foto"),e&&n.createElement(F,null,n.createElement(I,null,n.createElement(N,null,n.createElement(V,null,n.createElement($,null,"Foto"),n.createElement(O,{onClick:Q},n.createElement("span",{"aria-hidden":"true"},"×"))),n.createElement(Z,null,n.createElement(c,{foto:t.ruta})),n.createElement(D,null,n.createElement(G,{onClick:Q},"Cancelar"))))))))}},4447:function(e,a,t){t.r(a),t.d(a,{default:function(){return z}});var n=t(6540),r=t(4794),o=t(5388),c=t(1),l=t(7581),i=t(2405),d=t(4789),s=t(4506),u=t(5615),m=t(1739),p=t(1100);const g=async(e,a)=>{try{const t=(0,i.H9)(d.default,"jugadores",e);await(0,i.mZ)(t,{saldo:(0,i.GV)(a)}),console.log(`Saldo del jugador ${e} actualizado con éxito`)}catch(t){console.error(`Error al actualizar saldo del jugador ${e}:`,t)}};var f=()=>{const{0:e,1:a}=(0,n.useState)([]),{0:t,1:r}=(0,n.useState)(0),{0:o,1:c}=(0,n.useState)([]),{0:l,1:u}=(0,n.useState)(0),{0:f,1:x}=(0,n.useState)(0),{0:h,1:A}=(0,n.useState)(0),{0:v,1:w}=(0,n.useState)(0),{0:k,1:S}=(0,n.useState)(""),{0:j,1:C}=(0,n.useState)([]);(0,n.useEffect)((()=>{(async()=>{try{const e=(0,i.rJ)(d.default,"jugadores");return(await(0,i.GG)(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(e){}})().then((e=>{a(e),e.forEach((e=>{"Jugador1"===e.id?u(e.saldo):"Jugador2"===e.id?x(e.saldo):"Jugador3"===e.id?A(e.saldo):"Jugador4"===e.id&&w(e.saldo)}))})),B().then((e=>{c(e)}));const e=(0,i.H9)(d.default,"jugadores","Jugador1");(0,i.aQ)(e,(e=>{e.data()&&e.data().saldo&&u(e.data().saldo)}));const t=(0,i.H9)(d.default,"jugadores","Jugador2");(0,i.aQ)(t,(e=>{e.data()&&e.data().saldo&&x(e.data().saldo)}));const n=(0,i.H9)(d.default,"jugadores","Jugador3");(0,i.aQ)(n,(e=>{e.data()&&e.data().saldo&&A(e.data().saldo)}));const r=(0,i.H9)(d.default,"jugadores","Jugador4");(0,i.aQ)(r,(e=>{e.data()&&e.data().saldo&&w(e.data().saldo)}))}),[]);const J=async(e,a,t)=>{try{console.log("agregarTransaccion: inicio");const n=(0,i.H9)(d.default,"jugadores","historial");console.log("agregarTransaccion: historialRef creado");const r={jugador:e,destinatario:a,cantidad:t,concepto:k,timestamp:(new Date).toISOString()};console.log("agregarTransaccion: nuevaTransaccion creada",r),await(0,i.mZ)(n,{transacciones:(0,i.hq)(r)}),console.log("agregarTransaccion: transacción agregada")}catch(n){console.error("Error al agregar transacción:",n)}},B=async()=>{try{const e=(0,i.H9)(d.default,"jugadores","historial"),a=await(0,i.x7)(e);return a.data().transacciones?a.data().transacciones.filter((e=>"Emilio"===e.jugador&&0!==e.cantidad)):[]}catch(e){console.error("Error al obtener transacciones:",e)}},T=(e,a)=>{console.log("handleActualizarSaldo: inicio"),g("Jugador1",-t).then((()=>{console.log("handleActualizarSaldo: saldo de Emilio actualizado"),g(e,t).then((()=>{console.log("handleActualizarSaldo: saldo del jugador seleccionado actualizado"),J("Emilio",a,t).then((()=>{console.log("handleActualizarSaldo: transacción agregada"),c([].concat((0,s.A)(o),[{jugador:"Emilio",destinatario:a||"Banco",cantidad:t,concepto:k,timestamp:(new Date).toLocaleString()}])),r(0),S("")}))}))}))};return n.createElement(E,null,n.createElement(y,null,"Transferir Fondos"),n.createElement(p.A,{className:"mb-3"},n.createElement(p.A.Text,null,"$"),n.createElement(m.A.Control,{type:"number",value:t.toString(),onChange:e=>{r(parseInt(e.target.value))},"aria-label":"Amount (to the nearest dollar)"}),n.createElement(p.A.Text,null,".00")),n.createElement(p.A,{className:"mb-3"},n.createElement(p.A.Text,null,"Concepto:"),n.createElement(m.A.Control,{type:"text",value:k,onChange:e=>{S(e.target.value)}})),n.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},n.createElement(b,{variant:"success",onClick:()=>{console.log("handleBanco: inicio"),g("Jugador1",-t).then((()=>{console.log("handleBanco: saldo actualizado"),J("Emilio","Banco",-t).then((()=>{console.log("handleBanco: transacción agregada"),c([].concat((0,s.A)(o),[{jugador:"Emilio",destinatario:"Banco",cantidad:-t,concepto:k,timestamp:(new Date).toLocaleString()}]))}))}))}},"Banco"),n.createElement(b,{variant:"success",onClick:()=>T("Jugador2","Nicole")},"Nicole",n.createElement("br",null),n.createElement("p",null,f)),n.createElement(b,{variant:"success",onClick:()=>T("Jugador3","Frenky")},"Frenky",n.createElement("br",null),n.createElement("p",null,h)),n.createElement(b,{variant:"success",onClick:()=>T("Jugador4","Perla")},"Perla",n.createElement("p",null,v))),n.createElement("h2",null,"Historial de transacciones"),n.createElement("ul",null,o&&o.sort(((e,a)=>new Date(a.timestamp)-new Date(e.timestamp))).slice(0,5).map(((e,a)=>n.createElement("li",{key:a},new Date(e.timestamp).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})," ","- ",e.jugador,": ",e.cantidad," -"," ",e.destinatario," - ",e.concepto)))))};const b=(0,l.Ay)(u.A)`
  margin: 10px;
  padding: 10px;
  font-size: 16px;
  border-radius: 5px;
  background-color: #4caf50;
  color: #fff;
  border: none;
  width: 105px;
  cursor: pointer;
  &:hover {
    background-color: #3e8e41;
  }
`,E=l.Ay.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,y=l.Ay.div`
  font-size: 30px;
  font-weight: bold;
  margin-bottom: 20px;
`;var x=t(2270);var h=function(){const{0:e,1:a}=(0,n.useState)([]);return(0,n.useEffect)((()=>{(async()=>{try{const e=(0,i.H9)(d.default,"jugadores","Jugador1"),a=(await(0,i.x7)(e)).data().propiedades;return console.log(a),a}catch(e){return console.error(e),[]}})().then((e=>{a(e||[])}))}),[]),n.createElement(A,null,n.createElement(v,null,"Mis Propiedades"),n.createElement(w,null,n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{style:{width:"120px"}},"Número"),n.createElement("th",null,"Nombre de la Propiedad"))),n.createElement("tbody",null,e.map(((e,a)=>n.createElement("tr",{key:a},n.createElement("td",{style:{textAlign:"center"}},a+1),n.createElement("td",{style:{textAlign:"left"}},e))))))))};const A=l.Ay.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin-top: 40px;
`,v=l.Ay.h1`
  font-size: 25px;
  font-weight: bold;
  margin-bottom: 20px;
`,w=l.Ay.div`
  display: grid;
  flex-direction: row dense;
  grid-column-gap: 10px;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  margin-bottom: 30px;
  table th {
    text-align: center;
    font-weight: bold;
  }
  table td {
    text-align: center;
  }
`;var k=t(2864),S=t(9595);var j=function(){var e;const{0:a,1:t}=(0,n.useState)([{id:"Banco",nombre:"Banco"}]),{0:r,1:o}=(0,n.useState)([]),{0:c,1:l}=(0,n.useState)("Jugador"),{0:s,1:m}=(0,n.useState)("Propiedades"),{0:p,1:g}=(0,n.useState)(!1),{0:f,1:b}=(0,n.useState)("");return(0,n.useEffect)((()=>{(async()=>{try{const e=(0,i.rJ)(d.default,"jugadores");return(await(0,i.GG)(e)).docs.map((e=>({id:e.id,nombre:e.data().nombre})))}catch(e){console.error(e)}})().then((e=>t(e))),(async()=>{try{const e=(0,i.H9)(d.default,"jugadores","Jugador1");return(await(0,i.x7)(e)).data().propiedades}catch(e){console.error(e)}})().then((e=>o(e)))}),[]),n.createElement(C,{className:"text-center"},n.createElement("h1",null,"Traspasar propiedades"),n.createElement("h4",null,"A que jugador quieres transferir la propiedad:"),n.createElement(J,null,n.createElement(k.A,null,n.createElement(k.A.Toggle,{variant:"success",id:"dropdown-basic"},(null===(e=a.find((e=>e.id===c)))||void 0===e?void 0:e.nombre)||"Jugador"),n.createElement(k.A.Menu,null,a.map(((e,t)=>n.createElement(k.A.Menu,null,a.filter((e=>"Jugador1"!==e.id)).map(((e,a)=>n.createElement(k.A.Item,{key:a,onClick:()=>(e=>{"Banco"===e.id?l("Banco"):l(e.id)})(e)},"Banco"===e.id?"Banco":e.nombre)))))))),n.createElement(k.A,null,n.createElement(k.A.Toggle,{variant:"success",id:"dropdown-basic"},s),n.createElement(k.A.Menu,null,r.map(((e,a)=>n.createElement(k.A.Item,{key:a,onClick:()=>(e=>{m(e)})(e)},e)))))),n.createElement(u.A,{onClick:()=>{"Banco"===c?(async(e,a,t)=>{try{const n=(0,i.H9)(d.default,"jugadores","Jugador1"),r=(0,i.H9)(d.default,"jugadores","Banco");if((await(0,i.x7)(n)).data().propiedades.includes(e)){await(0,i.mZ)(n,{propiedades:(0,i.C3)(e)});(await(0,i.x7)(r)).data().propiedades||await(0,i.mZ)(r,{propiedades:[]}),await(0,i.mZ)(r,{propiedades:(0,i.hq)(e)}),a(!0),t(`Transferencia de ${e} al Banco correcta`),console.log(`Propiedad ${e} transferida al Banco`)}else a(!0),t("La propiedad seleccionada no existe en el array de Emilio"),console.error("La propiedad seleccionada no existe en el array de Emilio")}catch(n){a(!0),t("Ocurrió un error durante la transferencia"),console.error(n)}})(s,g,b):(async(e,a,t,n,r)=>{try{const c=(0,i.H9)(d.default,"jugadores","Jugador1"),l=(0,i.H9)(d.default,"jugadores",e);if((await(0,i.x7)(c)).data().propiedades.includes(a)){var o;await(0,i.mZ)(c,{propiedades:(0,i.C3)(a)});(await(0,i.x7)(l)).data().propiedades||await(0,i.mZ)(l,{propiedades:[]}),await(0,i.mZ)(l,{propiedades:(0,i.hq)(a)}),n(!0),r(`Transferencia de ${a} a ${null===(o=t.find((a=>a.id===e)))||void 0===o?void 0:o.nombre} correcta`),console.log(`Propiedad ${a} transferida a ${e}`)}else n(!0),r("La propiedad seleccionada no existe en el array de Emilio"),console.error("La propiedad seleccionada no existe en el array de Emilio")}catch(c){n(!0),r("Ocurrió un error durante la transferencia"),console.error(c)}})(c,s,a,g,b)}},"Transferir"),p&&n.createElement(n.Fragment,null,n.createElement(B,null),n.createElement(T,null,n.createElement(S.A,{variant:"success",onClose:()=>g(!1),dismissible:!0},n.createElement(S.A.Heading,null,"Transferencia exitosa"),n.createElement("p",null,f)))))};const C=l.Ay.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,J=l.Ay.div`
  display: flex;
  justify-content: space-between;
  width: 350px; /* ajusta el ancho según tus necesidades */
  margin: 15px;
`,B=l.Ay.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 999;
`,T=l.Ay.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1000;
`;var z=function(){const{0:e,1:a}=(0,n.useState)(!1),t=(0,i.rJ)(d.default,"jugadores"),l=(0,i.P)(t),{0:s,1:u}=(0,n.useState)([]),{0:m,1:p}=(0,n.useState)(!0);function g(){(0,i.aQ)(l,(e=>{const a=[];e.forEach((e=>{a.push(e.data())})),u(a),p(!1)}))}(0,n.useEffect)((()=>{g()}),[g]);const b=s.length>0?s[1]:null;return n.createElement(o.A,null,n.createElement(c.A,{title:"Emilio"}),n.createElement(R,null,b&&n.createElement(n.Fragment,null,n.createElement(P,null,b.nombre),n.createElement(H,null,b.saldo),n.createElement(M,{onClick:()=>{a(!e)}},e?"Transferencias":"Propiedades"),e?n.createElement(n.Fragment,null,n.createElement(j,null),n.createElement(h,null),n.createElement(x.A,null)):n.createElement(f,null),n.createElement(r.Link,{to:"/"},"Go back to the homepage"))))};const R=l.Ay.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin-top: 100px;
`,P=l.Ay.div`
  font-size: 34px;
  font-weight: bold;
`,H=l.Ay.div`
  font-size: 24px;
`,M=l.Ay.button`
  background-color: rgba(0, 76, 153);
  color: #fff;
  padding: 10px 20px;
  border: 1px solid black;
  border-radius: 5px;
  cursor: pointer;
  font-size: 26px;
  margin: 20px;
`}}]);
//# sourceMappingURL=component---src-pages-page-2-js-4ba2903691d811cf070c.js.map